<link rel="import" href="../polymer/polymer.html">

<dom-module id="c-corporate-footer">

  <template>

    <style>
:host {
    display: block;
}
:host footer {
    background-color: #1d1d1b;
    color: #fff;
    padding: 46px 30px 20px;
}
:host .wordmark {
    float: right;
    width: 178px;
    height: 29px;
    display: inline-block;
    vertical-align: middle;
    background-size: 100%;
    background-repeat: no-repeat;
}
:host .footer-links {
    margin: 0 0 15px 0;
    text-align: left;
}
:host .footer-copy-text {
    color: #97999b;
    font-size: 10px;
    padding: 8px 0;
    margin: 0;
    letter-spacing: 0.05rem;
    text-align: left;
}
:host ::content nav-item {
    display: inline-block;
    padding: 0 21px 0 0;
    font-size: 1.3rem;
}
:host ::content nav-item:first-child a {
    margin-left: 0px;
}
:host ::content nav-item a {
    color: #fff;
}
:host ::content nav-item a:hover {
    text-decoration: underline;
    color: #fff;
}
:host ::content nav-item a:active,
:host ::content nav-item a:focus {
    color: #fff;
}
:host ::content nav-item a span {
    color: inherit;
}
:host-context(.scania) .wordmark {
    background-image: url('assets/images/scania-wordmark-white.png');
    background-image: url('assets/images/scania-wordmark-white.svg');
}
:host-context(.app) ::content .footer-links {
    margin: 0 0 10px 0;
}
@media (min-width: 992px) {
    :host-context(body.fullscreen) {
        display: none !important;
    }
    :host ::content .dropdown-menu {
        background-color: transparent;
        display: block;
        position: relative;
        border: none;
        box-shadow: none;
        float: none;
    }
    :host ::content .dropdown-menu a {
        font-family: "Scania Sans", Helvetica, Arial, sans-serif;
        font-size: 14px;
        font-weight: bold;
    }
}
@media (max-width: 991px) {
    :host footer {
        padding: 23px 0 0 0;
    }
    :host .wordmark {
        float: none;
        display: block;
        margin: auto;
        padding-bottom: 22px;
        width: 113px;
        height: 40px;
    }
    :host .footer-copy-text {
        display: block;
        margin: 0;
        background-color: #fff;
        border-top: solid 1px #e7e7e7;
        color: #53565a;
        font-size: 12px;
        padding: 19px 9%;
        line-height: 16px;
        text-align: center;
    }
    :host ::content footer {
        text-align: center;
    }
    :host ::content nav-item {
        padding: 0;
        display: block;
    }
    :host ::content .dropdown-container {
        position: relative;
        background-color: #fff;
    }
    :host ::content .dropdown-container a {
        color: #1d1d1d;
    }
    :host ::content .dropdown-container a:first-child {
        margin-left: 0;
    }
    :host ::content .dropdown-container a:hover {
        color: #1d1d1d;
    }
    :host ::content .dropdown-container .dropdown-menu {
        width: 100%;
        bottom: 100%;
        top: auto;
        background: #fff;
        border-radius: 0;
        margin: 0;
        box-shadow: none;
        text-align: center;
    }
    :host ::content .footer-links {
        background-color: #1d1d1b;
        position: absolute;
        text-align: center;
        display: none;
        margin: 0;
    }
    :host ::content .footer-links.open {
        display: inline-block;
        position: absolute;
        padding: 5px;
        text-align: center;
        margin: 0px auto;
        float: none;
        left: 50%;
        top: auto;
        bottom: 100%;
        transform: translate(-50%, 0);
    }
    :host ::content .footer-links.open + a span:before {
        -webkit-transform: rotate(180deg);
        -moz-transform: rotate(180deg);
        -ms-transform: rotate(180deg);
        -o-transform: rotate(180deg);
        transform: rotate(180deg);
        filter: progid:DXImageTransform.Microsoft.BasicImage(rotation=2);
    }
    :host ::content .footer-links + a span:before {
        transition: transform 200ms;
    }
    :host ::content .btn {
        padding: 15px 25px 15px 25px;
    }
    :host ::content .btn:hover {
        color: #1d1d1d;
        text-decoration: none;
    }
    :host ::content .btn:focus {
        color: #1d1d1d;
        text-decoration: none;
    }
    :host ::content .caret {
        color: #1d1d1d;
    }
    :host-context(.navigation-open) {
        display: none !important;
    }
    :host-context(.navigation-open) .footer-copy-text {
        display: none;
    }
}

    </style>

    <footer class="footer c-corporate-footer">
          <span class="wordmark"></span>
          <content select="c-social-media"></content>

          <template is="dom-if" if="{{navItems}}" restamp="true">
            <div class="dropdown-container">
              <nav class="dropdown-menu footer-links">
                <content></content>
              </nav>
              <a href="#" class="btn btn-lg-center-block hidden-md hidden-lg" data-toggle="dropdown">
                SCANIA
                <span class="icon-caret-up"></span>
              </a>
            </div>
          </template>
          <p class="footer-copy-text">
            <span>&copy;</span> {{copyright}}
          </p>
    </footer>
  </template>

  <script>
  Polymer({
      is: 'c-corporate-footer',

      properties: {
          text: String,
          variation: 0,
          fullbleed: {
              type: Boolean,
              value: true
          },
          copyright: {
              type: String,
              value: function() {
                  var date = new Date();
                  return "Copyright Scania " + date.getFullYear() + " All rights reserved."
              }
          },
          navItems: {
              type: Boolean,
              value: false
          }
      },
      created: function() {
          var items = [].slice.call(this.children).filter(function(item) {
              return item.nodeName == 'NAV-ITEM';
          });
          this.properties.navItems.value = items.length;
      },
      attached: function() {
          this.style.display = 'block';
      }
  });
  </script>

</dom-module>

